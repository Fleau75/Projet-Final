# üîê Guide d'Authentification AccessPlus

> **Guide complet du syst√®me d'authentification d'AccessPlus - Version Finale**

[![Status](https://img.shields.io/badge/Status-‚úÖ%20Compl√®te-brightgreen.svg)](https://github.com/Fleau75/Projet-Final)
[![Last Update](https://img.shields.io/badge/Last%20Update-Juin%202025-blue.svg)](https://github.com/Fleau75/Projet-Final)

## üéØ **Vue d'ensemble**

Le syst√®me d'authentification d'AccessPlus est con√ßu pour offrir une exp√©rience s√©curis√©e et accessible aux Personnes √† Mobilit√© R√©duite (PMR). Il combine plusieurs m√©thodes d'authentification pour s'adapter aux besoins de chaque utilisateur.

## üîê **M√©thodes d'authentification**

### 1. **Mode Visiteur (Recommand√© pour commencer)**

Le mode visiteur permet d'utiliser l'application sans cr√©er de compte permanent.

#### Avantages
- ‚úÖ **Acc√®s imm√©diat** sans inscription
- ‚úÖ **Toutes les fonctionnalit√©s** disponibles
- ‚úÖ **Donn√©es sauvegard√©es** localement
- ‚úÖ **Migration facile** vers un compte permanent

#### Utilisation
1. **Lancez l'application** AccessPlus
2. **Cliquez sur "Continuer sans compte"**
3. **Explorez librement** toutes les fonctionnalit√©s
4. **Vos donn√©es sont automatiquement sauvegard√©es**

#### Limitations
- ‚ùå Pas de synchronisation entre appareils
- ‚ùå Pas de badge de v√©rification
- ‚ùå Pas d'authentification biom√©trique
- ‚ùå Donn√©es locales uniquement

### 2. **Authentification Classique (Email/Mot de passe)**

Syst√®me d'authentification traditionnel avec validation robuste.

#### Cr√©ation de compte
1. **Cliquez sur "Cr√©er un compte"**
2. **Remplissez le formulaire** :
   - Pr√©nom et nom (obligatoire)
   - Adresse email (obligatoire)
   - Mot de passe (minimum 6 caract√®res)
   - T√©l√©phone (optionnel)
3. **Choisissez la migration** des donn√©es visiteur
4. **Validez votre inscription**

#### Connexion
1. **Entrez votre email** et mot de passe
2. **Cliquez sur "Se connecter"**
3. **Acc√©dez √† votre compte** avec toutes les fonctionnalit√©s

#### Validation
- **Email** : Format valide requis
- **Mot de passe** : Minimum 6 caract√®res
- **Doublons** : V√©rification des emails existants
- **S√©curit√©** : Chiffrement AES-256 des mots de passe

### 3. **Authentification Biom√©trique**

Syst√®me d'authentification avanc√© utilisant les capacit√©s biom√©triques de l'appareil.

#### Types support√©s
- **Empreinte digitale** (Touch ID)
- **Reconnaissance faciale** (Face ID)
- **Reconnaissance d'iris** (selon l'appareil)

#### Activation
1. **Connectez-vous** avec votre compte
2. **Activez la biom√©trie** quand propos√©e
3. **Suivez les instructions** de votre appareil
4. **Confirmez l'activation**

#### Utilisation
- **Lancez l'application**
- **Utilisez votre empreinte** ou reconnaissance faciale
- **Connexion automatique** si r√©ussie
- **Fallback vers mot de passe** si √©chec

#### S√©curit√©
- **Chiffrement local** des credentials
- **Validation biom√©trique** native
- **Pas d'acc√®s** pour le mode visiteur
- **D√©sactivation** possible √† tout moment

## üîÑ **Migration des donn√©es**

### Migration Visiteur ‚Üí Compte Permanent

Le syst√®me de migration permet de transf√©rer toutes les donn√©es du mode visiteur vers un compte permanent.

#### Donn√©es migr√©es
- ‚úÖ **Lieux favoris** ajout√©s
- ‚úÖ **Avis publi√©s** avec photos
- ‚úÖ **Pr√©f√©rences d'accessibilit√©**
- ‚úÖ **Historique de navigation**
- ‚úÖ **Param√®tres personnalis√©s**

#### Processus de migration
1. **Cr√©ez un compte** depuis le mode visiteur
2. **Choisissez "Migrer mes donn√©es"**
3. **Attendez la migration** automatique
4. **Confirmez la migration** r√©ussie

#### Avantages post-migration
- üîÑ **Synchronisation** sur tous vos appareils
- üîí **Sauvegarde s√©curis√©e** dans le cloud
- üèÜ **Badge de v√©rification** possible
- üìä **Statistiques d√©taill√©es**
- üîê **Authentification biom√©trique**

## üîí **S√©curit√© et confidentialit√©**

### Chiffrement des donn√©es

#### Chiffrement AES-256
- **Mots de passe** : Chiffr√©s avant stockage
- **Donn√©es sensibles** : Chiffrement automatique
- **Cl√©s de chiffrement** : G√©n√©r√©es localement
- **Migration automatique** vers le chiffrement

#### Stockage s√©curis√©
- **AsyncStorage** avec isolation utilisateur
- **Cl√©s uniques** par utilisateur
- **Pas de partage** entre comptes
- **Nettoyage automatique** des donn√©es obsol√®tes

### Gestion des sessions

#### Persistance configurable
- **Session automatique** : Reconnexion automatique
- **Session manuelle** : Connexion √† chaque lancement
- **D√©connexion automatique** : Apr√®s inactivit√©
- **Verrouillage biom√©trique** : Protection suppl√©mentaire

#### S√©curit√© des sessions
- **Tokens temporaires** pour les op√©rations sensibles
- **Validation continue** de l'authentification
- **D√©connexion forc√©e** en cas de compromission
- **Historique des connexions** disponible

## üÜò **R√©cup√©ration de compte**

### Mot de passe oubli√©

#### Processus de r√©cup√©ration
1. **Cliquez sur "Mot de passe oubli√©"**
2. **Entrez votre adresse email**
3. **Recevez un email** de r√©cup√©ration
4. **Cliquez sur le lien** dans l'email
5. **D√©finissez un nouveau mot de passe**

#### S√©curit√© de la r√©cup√©ration
- **Tokens temporaires** (expiration 1 heure)
- **Validation email** obligatoire
- **Historique des r√©cup√©rations** trac√©
- **Notification** en cas de tentative

### Changement de mot de passe

#### Depuis l'application
1. **Allez dans Profil > S√©curit√©**
2. **Cliquez sur "Changer le mot de passe"**
3. **Entrez l'ancien mot de passe**
4. **D√©finissez le nouveau mot de passe**
5. **Confirmez le changement**

#### Validation
- **Ancien mot de passe** : V√©rification obligatoire
- **Nouveau mot de passe** : Minimum 6 caract√®res
- **Confirmation** : Correspondance requise
- **Notification** : Confirmation du changement

## üèÜ **Badges de v√©rification**

### Crit√®res de v√©rification

Pour obtenir le badge de v√©rification, l'utilisateur doit :
- ‚úÖ **Avoir un compte permanent** (non visiteur)
- ‚úÖ **Avoir publi√© au moins 3 avis**
- ‚úÖ **Avoir une activit√© r√©guli√®re**

### Avantages du badge

- üèÜ **Reconnaissance** de la contribution
- üìä **Statistiques d√©taill√©es** disponibles
- üîç **Visibilit√©** dans la communaut√©
- üìà **Progression** vers des niveaux sup√©rieurs

### Progression

- **0 avis** : Utilisateur de base
- **1-2 avis** : En cours de v√©rification
- **3+ avis** : Utilisateur v√©rifi√© üèÜ

## üõ†Ô∏è **Configuration technique**

### Variables d'environnement

```bash
# Firebase Configuration
FIREBASE_API_KEY=votre_cl√©_api
FIREBASE_AUTH_DOMAIN=votre_domaine
FIREBASE_PROJECT_ID=votre_projet
FIREBASE_STORAGE_BUCKET=votre_bucket
FIREBASE_MESSAGING_SENDER_ID=votre_sender_id
FIREBASE_APP_ID=votre_app_id

# Google Places API (optionnel)
GOOGLE_PLACES_API_KEY=votre_cl√©_places
```

### Configuration Firebase

#### R√®gles de s√©curit√© Firestore
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Collection des utilisateurs
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Collection des avis
    match /reviews/{reviewId} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Collection des lieux
    match /places/{placeId} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
```

#### R√®gles de s√©curit√© Storage
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Images des avis
    match /reviews/{reviewId}/{fileName} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Images des lieux
    match /places/{placeId}/{fileName} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
```

## üß™ **Tests et diagnostic**

### Scripts de test disponibles

```bash
# Tests d'authentification
node scripts/test-auth.js

# Tests biom√©trie
node scripts/test-biometric.js

# Tests de migration
node scripts/test-migration-flow.js

# Diagnostic du stockage
node scripts/diagnose-storage.js

# Tests de v√©rification
node scripts/test-verification.js
```

### Tests d'authentification

Le script `test-auth.js` v√©rifie :
- ‚úÖ **Cr√©ation de compte** avec validation
- ‚úÖ **Connexion** avec email/mot de passe
- ‚úÖ **D√©connexion** et nettoyage
- ‚úÖ **Gestion des erreurs** (mauvais mot de passe, email inexistant)
- ‚úÖ **Persistance** des sessions

### Tests biom√©triques

Le script `test-biometric.js` v√©rifie :
- ‚úÖ **Disponibilit√©** de la biom√©trie
- ‚úÖ **Activation** de l'authentification biom√©trique
- ‚úÖ **Authentification** avec biom√©trie
- ‚úÖ **Fallback** vers mot de passe
- ‚úÖ **D√©sactivation** de la biom√©trie

## üÜò **R√©solution de probl√®mes**

### Probl√®mes courants

#### Connexion impossible
- **V√©rifiez votre email** et mot de passe
- **Utilisez "Mot de passe oubli√©"** si n√©cessaire
- **V√©rifiez votre connexion internet**
- **Red√©marrez l'application**

#### Biom√©trie ne fonctionne pas
- **V√©rifiez les param√®tres** de votre appareil
- **R√©activez la biom√©trie** dans les r√©glages
- **Utilisez le mot de passe** en attendant
- **Contactez le support** si persistant

#### Migration √©chou√©e
- **V√©rifiez votre connexion internet**
- **Relancez la migration** depuis le profil
- **V√©rifiez l'espace disponible** sur l'appareil
- **Contactez le support** si persistant

#### Donn√©es perdues
- **V√©rifiez la synchronisation** dans les r√©glages
- **Forcez la synchronisation** manuellement
- **V√©rifiez votre compte** Firebase
- **Contactez le support** pour r√©cup√©ration

## üìä **Statistiques d'utilisation**

### M√©triques de s√©curit√©

- **Tentatives de connexion** : Suivi des √©checs
- **Utilisation biom√©trique** : Statistiques d'usage
- **Migrations r√©ussies** : Taux de succ√®s
- **R√©cup√©rations de mot de passe** : Fr√©quence

### Utilisateurs de test

L'application inclut des utilisateurs de test pr√©-configur√©s :

- **test@example.com** / 123456 - Utilisateur de base
- **demo@accessplus.com** / demo123 - Utilisateur d√©mo
- **admin@accessplus.com** / admin123 - Administrateur
- **visiteur@accessplus.com** - Mode visiteur (pas de mot de passe)

## üîÆ **√âvolutions futures**

### Fonctionnalit√©s pr√©vues

- üîê **Authentification √† deux facteurs** (2FA)
- üîó **Connexion avec Google/Apple**
- üë• **Comptes familiaux** partag√©s
- üîÑ **Synchronisation temps r√©el**
- üì± **Notifications push** d'authentification

### Am√©liorations de s√©curit√©

- üîí **Chiffrement end-to-end** des messages
- üõ°Ô∏è **D√©tection d'intrusion** automatique
- üìç **G√©olocalisation** des connexions
- ‚è∞ **Sessions temporaires** configurables

---

**AccessPlus** - Rendre l'accessibilit√© accessible √† tous ! ‚ôø

*Derni√®re mise √† jour : Juin 2025* 